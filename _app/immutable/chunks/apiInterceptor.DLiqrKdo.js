import{al as H}from"./scheduler.u6_2Foza.js";import{w as Ts}from"./index.gn-jsrgW.js";import{e as J,d as E,P as js,B as _,Q as Fs,S as wt,V as Bs,h as nt,X as Ms,Y as D,Z as bt}from"./index.m-M8DqUY.js";function un(...i){return i.filter(Boolean).join(" ")}const xt=typeof document<"u";function St(i){const e=Ts(i);function t(r){xt&&e.set(r)}function s(r){xt&&e.update(r)}return{subscribe:e.subscribe,set:t,update:s}}let Ot=0;function Us(){const i=St([]),e=St([]);function t(g){i.update(p=>[g,...p])}function s(g){var U;const{message:p,...b}=g,x=typeof(g==null?void 0:g.id)=="number"||g.id&&((U=g.id)==null?void 0:U.length)>0?g.id:Ot++,R=g.dismissable===void 0?!0:g.dismissable,v=g.type===void 0?"default":g.type;return H(i).find(F=>F.id===x)?i.update(F=>F.map(B=>B.id===x?{...B,...g,id:x,title:p,dismissable:R,type:v,updated:!0}:{...B,updated:!1})):t({...b,id:x,title:p,dismissable:R,type:v}),x}function r(g){if(g===void 0){i.update(p=>p.map(b=>({...b,dismiss:!0})));return}return i.update(p=>p.map(b=>b.id===g?{...b,dismiss:!0}:b)),g}function n(g){if(g===void 0){i.set([]);return}return i.update(p=>p.filter(b=>b.id!==g)),g}function o(g,p){return s({...p,type:"default",message:g})}function l(g,p){return s({...p,type:"error",message:g})}function a(g,p){return s({...p,type:"success",message:g})}function u(g,p){return s({...p,type:"info",message:g})}function f(g,p){return s({...p,type:"warning",message:g})}function h(g,p){return s({...p,type:"loading",message:g})}function c(g,p){if(!p)return;let b;p.loading!==void 0&&(b=s({...p,promise:g,type:"loading",message:p.loading}));const x=g instanceof Promise?g:g();let R=b!==void 0;return x.then(v=>{if(v&&typeof v.ok=="boolean"&&!v.ok){R=!1;const C=typeof p.error=="function"?p.error(`HTTP error! status: ${v.status}`):p.error;s({id:b,type:"error",message:C})}else if(p.success!==void 0){R=!1;const C=typeof p.success=="function"?p.success(v):p.success;s({id:b,type:"success",message:C})}}).catch(v=>{if(p.error!==void 0){R=!1;const C=typeof p.error=="function"?p.error(v):p.error;s({id:b,type:"error",message:C})}}).finally(()=>{var v;R&&(r(b),b=void 0),(v=p.finally)==null||v.call(p)}),b}function m(g,p){const b=(p==null?void 0:p.id)||Ot++;return s({component:g,id:b,...p}),b}function y(g){e.update(p=>p.filter(b=>b.toastId!==g))}function S(g){if(H(e).find(b=>b.toastId===g.toastId)===void 0){e.update(b=>[g,...b]);return}e.update(b=>b.map(x=>x.toastId===g.toastId?g:x))}function d(){i.set([]),e.set([])}return{create:s,addToast:t,dismiss:r,remove:n,message:o,error:l,success:a,info:u,warning:f,loading:h,promise:c,custom:m,removeHeight:y,setHeight:S,reset:d,toasts:i,heights:e}}const N=Us();function zs(i,e){return N.create({message:i,...e})}const _s=zs,fn=Object.assign(_s,{success:N.success,info:N.info,warning:N.warning,error:N.error,custom:N.custom,message:N.message,promise:N.promise,dismiss:N.dismiss,loading:N.loading}),cn=i=>({subscribe:i}),Ks={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,e){console&&console[i]&&console[i].apply(console,e)}};class Ce{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Ks,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,s,r){return r&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Ce(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Ce(this.logger,e)}}var j=new Ce;class Ne{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const r=this.observers[s].get(t)||0;this.observers[s].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[l,a]=o;for(let u=0;u<a;u++)l(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,a]=o;for(let u=0;u<a;u++)l.apply(l,[e,...s])})}}function ee(){let i,e;const t=new Promise((s,r)=>{i=s,e=r});return t.resolve=i,t.reject=e,t}function vt(i){return i==null?"":""+i}function Js(i,e,t){i.forEach(s=>{e[s]&&(t[s]=e[s])})}const Vs=/###/g;function ie(i,e,t){function s(l){return l&&l.indexOf("###")>-1?l.replace(Vs,"."):l}function r(){return!i||typeof i=="string"}const n=typeof e!="string"?e:e.split(".");let o=0;for(;o<n.length-1;){if(r())return{};const l=s(n[o]);!i[l]&&t&&(i[l]=new t),Object.prototype.hasOwnProperty.call(i,l)?i=i[l]:i={},++o}return r()?{}:{obj:i,k:s(n[o])}}function Ct(i,e,t){const{obj:s,k:r}=ie(i,e,Object);if(s!==void 0||e.length===1){s[r]=t;return}let n=e[e.length-1],o=e.slice(0,e.length-1),l=ie(i,o,Object);for(;l.obj===void 0&&o.length;)n=`${o[o.length-1]}.${n}`,o=o.slice(0,o.length-1),l=ie(i,o,Object),l&&l.obj&&typeof l.obj[`${l.k}.${n}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${n}`]=t}function Qs(i,e,t,s){const{obj:r,k:n}=ie(i,e,Object);r[n]=r[n]||[],r[n].push(t)}function Ae(i,e){const{obj:t,k:s}=ie(i,e);if(t)return t[s]}function Hs(i,e,t){const s=Ae(i,t);return s!==void 0?s:Ae(e,t)}function Gt(i,e,t){for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in i?typeof i[s]=="string"||i[s]instanceof String||typeof e[s]=="string"||e[s]instanceof String?t&&(i[s]=e[s]):Gt(i[s],e[s],t):i[s]=e[s]);return i}function V(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Ws={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Ys(i){return typeof i=="string"?i.replace(/[&<>"'\/]/g,e=>Ws[e]):i}class Gs{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const Xs=[" ",",","?","!",";"],qs=new Gs(20);function Zs(i,e,t){e=e||"",t=t||"";const s=Xs.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(s.length===0)return!0;const r=qs.getRegExp(`(${s.map(o=>o==="?"?"\\?":o).join("|")})`);let n=!r.test(i);if(!n){const o=i.indexOf(t);o>0&&!r.test(i.substring(0,o))&&(n=!0)}return n}function Ke(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!i)return;if(i[e])return i[e];const s=e.split(t);let r=i;for(let n=0;n<s.length;){if(!r||typeof r!="object")return;let o,l="";for(let a=n;a<s.length;++a)if(a!==n&&(l+=t),l+=s[a],o=r[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&a<s.length-1)continue;n+=a-n+1;break}r=o}return r}function Re(i){return i&&i.indexOf("_")>0?i.replace("_","-"):i}class At extends Ne{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const n=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,t],s&&(Array.isArray(s)?l.push(...s):typeof s=="string"&&n?l.push(...s.split(n)):l.push(s)));const a=Ae(this.data,l);return!a&&!t&&!s&&e.indexOf(".")>-1&&(e=l[0],t=l[1],s=l.slice(2).join(".")),a||!o||typeof s!="string"?a:Ke(this.data&&this.data[e]&&this.data[e][t],s,n)}addResource(e,t,s,r){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let l=[e,t];s&&(l=l.concat(o?s.split(o):s)),e.indexOf(".")>-1&&(l=e.split("."),r=t,t=l[1]),this.addNamespaces(t),Ct(this.data,l,r),n.silent||this.emit("added",e,t,s,r)}addResources(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const n in s)(typeof s[n]=="string"||Object.prototype.toString.apply(s[n])==="[object Array]")&&this.addResource(e,t,n,s[n],{silent:!0});r.silent||this.emit("added",e,t,s)}addResourceBundle(e,t,s,r,n){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,t];e.indexOf(".")>-1&&(l=e.split("."),r=s,s=t,t=l[1]),this.addNamespaces(t);let a=Ae(this.data,l)||{};o.skipCopy||(s=JSON.parse(JSON.stringify(s))),r?Gt(a,s,n):a={...a,...s},Ct(this.data,l,a),o.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}}var Xt={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,e,t,s,r){return i.forEach(n=>{this.processors[n]&&(e=this.processors[n].process(e,t,s,r))}),e}};const Rt={};class Ee extends Ne{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Js(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=j.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const s=this.resolve(e,t);return s&&s.res!==void 0}extractFromKey(e,t){let s=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let n=t.ns||this.options.defaultNS||[];const o=s&&e.indexOf(s)>-1,l=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Zs(e,s,r);if(o&&!l){const a=e.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:e,namespaces:n};const u=e.split(s);(s!==r||s===r&&this.options.ns.indexOf(u[0])>-1)&&(n=u.shift()),e=u.join(r)}return typeof n=="string"&&(n=[n]),{key:e,namespaces:n}}translate(e,t,s){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const r=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,n=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],t),a=l[l.length-1],u=t.lng||this.language,f=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(f){const x=t.nsSeparator||this.options.nsSeparator;return r?{res:`${a}${x}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:`${a}${x}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:o}const h=this.resolve(e,t);let c=h&&h.res;const m=h&&h.usedKey||o,y=h&&h.exactUsedKey||o,S=Object.prototype.toString.apply(c),d=["[object Number]","[object Function]","[object RegExp]"],g=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,p=!this.i18nFormat||this.i18nFormat.handleAsObject;if(p&&c&&(typeof c!="string"&&typeof c!="boolean"&&typeof c!="number")&&d.indexOf(S)<0&&!(typeof g=="string"&&S==="[object Array]")){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,c,{...t,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(h.res=x,h.usedParams=this.getUsedParamsDetails(t),h):x}if(n){const x=S==="[object Array]",R=x?[]:{},v=x?y:m;for(const C in c)if(Object.prototype.hasOwnProperty.call(c,C)){const P=`${v}${n}${C}`;R[C]=this.translate(P,{...t,joinArrays:!1,ns:l}),R[C]===P&&(R[C]=c[C])}c=R}}else if(p&&typeof g=="string"&&S==="[object Array]")c=c.join(g),c&&(c=this.extendTranslation(c,e,t,s));else{let x=!1,R=!1;const v=t.count!==void 0&&typeof t.count!="string",C=Ee.hasDefaultValue(t),P=v?this.pluralResolver.getSuffix(u,t.count,t):"",U=t.ordinal&&v?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",F=v&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),B=F&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${P}`]||t[`defaultValue${U}`]||t.defaultValue;!this.isValidLookup(c)&&C&&(x=!0,c=B),this.isValidLookup(c)||(R=!0,c=o);const Ds=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&R?void 0:c,X=C&&B!==c&&this.options.updateMissing;if(R||x||X){if(this.logger.log(X?"updateKey":"missingKey",u,a,o,X?B:c),n){const I=this.resolve(o,{...t,keySeparator:!1});I&&I.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let q=[];const he=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&he&&he[0])for(let I=0;I<he.length;I++)q.push(he[I]);else this.options.saveMissingTo==="all"?q=this.languageUtils.toResolveHierarchy(t.lng||this.language):q.push(t.lng||this.language);const mt=(I,z,Z)=>{const yt=C&&Z!==c?Z:Ds;this.options.missingKeyHandler?this.options.missingKeyHandler(I,a,z,yt,X,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(I,a,z,yt,X,t),this.emit("missingKey",I,a,z,c)};this.options.saveMissing&&(this.options.saveMissingPlurals&&v?q.forEach(I=>{const z=this.pluralResolver.getSuffixes(I,t);F&&t[`defaultValue${this.options.pluralSeparator}zero`]&&z.indexOf(`${this.options.pluralSeparator}zero`)<0&&z.push(`${this.options.pluralSeparator}zero`),z.forEach(Z=>{mt([I],o+Z,t[`defaultValue${Z}`]||B)})}):mt(q,o,B))}c=this.extendTranslation(c,e,t,h,s),R&&c===o&&this.options.appendNamespaceToMissingKey&&(c=`${a}:${o}`),(R||x)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?c=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}:${o}`:o,x?c:void 0):c=this.options.parseMissingKeyHandler(c))}return r?(h.res=c,h.usedParams=this.getUsedParamsDetails(t),h):c}extendTranslation(e,t,s,r,n){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const u=typeof e=="string"&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const c=e.match(this.interpolator.nestingRegexp);f=c&&c.length}let h=s.replace&&typeof s.replace!="string"?s.replace:s;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,s.lng||this.language,s),u){const c=e.match(this.interpolator.nestingRegexp),m=c&&c.length;f<m&&(s.nest=!1)}!s.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(s.lng=r.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return n&&n[0]===m[0]&&!s.context?(o.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${t[0]}`),null):o.translate(...m,t)},s)),s.interpolation&&this.interpolator.reset()}const l=s.postProcess||this.options.postProcess,a=typeof l=="string"?[l]:l;return e!=null&&a&&a.length&&s.applyPostProcessor!==!1&&(e=Xt.handle(a,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,r,n,o,l;return typeof e=="string"&&(e=[e]),e.forEach(a=>{if(this.isValidLookup(s))return;const u=this.extractFromKey(a,t),f=u.key;r=f;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const c=t.count!==void 0&&typeof t.count!="string",m=c&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),y=t.context!==void 0&&(typeof t.context=="string"||typeof t.context=="number")&&t.context!=="",S=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);h.forEach(d=>{this.isValidLookup(s)||(l=d,!Rt[`${S[0]}-${d}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(Rt[`${S[0]}-${d}`]=!0,this.logger.warn(`key "${r}" for languages "${S.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(g=>{if(this.isValidLookup(s))return;o=g;const p=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(p,f,g,d,t);else{let x;c&&(x=this.pluralResolver.getSuffix(g,t.count,t));const R=`${this.options.pluralSeparator}zero`,v=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(p.push(f+x),t.ordinal&&x.indexOf(v)===0&&p.push(f+x.replace(v,this.options.pluralSeparator)),m&&p.push(f+R)),y){const C=`${f}${this.options.contextSeparator}${t.context}`;p.push(C),c&&(p.push(C+x),t.ordinal&&x.indexOf(v)===0&&p.push(C+x.replace(v,this.options.pluralSeparator)),m&&p.push(C+R))}}let b;for(;b=p.pop();)this.isValidLookup(s)||(n=b,s=this.getResource(g,d,b,t))}))})}),{res:s,usedKey:r,exactUsedKey:n,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,s,r):this.resourceStore.getResource(e,t,s,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&typeof e.replace!="string";let r=s?e.replace:e;if(s&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!s){r={...r};for(const n of t)delete r[n]}return r}static hasDefaultValue(e){const t="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t===s.substring(0,t.length)&&e[s]!==void 0)return!0;return!1}}function Be(i){return i.charAt(0).toUpperCase()+i.slice(1)}class Et{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=j.create("languageUtils")}getScriptPartFromCode(e){if(e=Re(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Re(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let s=e.split("-");return this.options.lowerCaseLng?s=s.map(r=>r.toLowerCase()):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),t.indexOf(s[1].toLowerCase())>-1&&(s[1]=Be(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),t.indexOf(s[1].toLowerCase())>-1&&(s[1]=Be(s[1].toLowerCase())),t.indexOf(s[2].toLowerCase())>-1&&(s[2]=Be(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(s=>{if(t)return;const r=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(s=>{if(t)return;const r=this.getLanguagePartFromCode(s);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(n=>{if(n===r)return n;if(!(n.indexOf("-")<0&&r.indexOf("-")<0)&&(n.indexOf("-")>0&&r.indexOf("-")<0&&n.substring(0,n.indexOf("-"))===r||n.indexOf(r)===0&&r.length>1))return n})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!t)return e.default||[];let s=e[t];return s||(s=e[this.getScriptPartFromCode(t)]),s||(s=e[this.formatLanguageCode(t)]),s||(s=e[this.getLanguagePartFromCode(t)]),s||(s=e.default),s||[]}toResolveHierarchy(e,t){const s=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],n=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&n(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&n(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&n(this.getLanguagePartFromCode(e))):typeof e=="string"&&n(this.formatLanguageCode(e)),s.forEach(o=>{r.indexOf(o)<0&&n(this.formatLanguageCode(o))}),r}}let er=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],tr={1:function(i){return+(i>1)},2:function(i){return+(i!=1)},3:function(i){return 0},4:function(i){return i%10==1&&i%100!=11?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2},5:function(i){return i==0?0:i==1?1:i==2?2:i%100>=3&&i%100<=10?3:i%100>=11?4:5},6:function(i){return i==1?0:i>=2&&i<=4?1:2},7:function(i){return i==1?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2},8:function(i){return i==1?0:i==2?1:i!=8&&i!=11?2:3},9:function(i){return+(i>=2)},10:function(i){return i==1?0:i==2?1:i<7?2:i<11?3:4},11:function(i){return i==1||i==11?0:i==2||i==12?1:i>2&&i<20?2:3},12:function(i){return+(i%10!=1||i%100==11)},13:function(i){return+(i!==0)},14:function(i){return i==1?0:i==2?1:i==3?2:3},15:function(i){return i%10==1&&i%100!=11?0:i%10>=2&&(i%100<10||i%100>=20)?1:2},16:function(i){return i%10==1&&i%100!=11?0:i!==0?1:2},17:function(i){return i==1||i%10==1&&i%100!=11?0:1},18:function(i){return i==0?0:i==1?1:2},19:function(i){return i==1?0:i==0||i%100>1&&i%100<11?1:i%100>10&&i%100<20?2:3},20:function(i){return i==1?0:i==0||i%100>0&&i%100<20?1:2},21:function(i){return i%100==1?1:i%100==2?2:i%100==3||i%100==4?3:0},22:function(i){return i==1?0:i==2?1:(i<0||i>10)&&i%10==0?2:3}};const sr=["v1","v2","v3"],rr=["v4"],kt={zero:0,one:1,two:2,few:3,many:4,other:5};function ir(){const i={};return er.forEach(e=>{e.lngs.forEach(t=>{i[t]={numbers:e.nr,plurals:tr[e.fc]}})}),i}class nr{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=j.create("pluralResolver"),(!this.options.compatibilityJSON||rr.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=ir()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Re(e==="dev"?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(e,t);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}getPluralFormsOfKey(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,s).map(r=>`${t}${r}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(e,t);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort((r,n)=>kt[r]-kt[n]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):s.numbers.map(r=>this.getSuffix(e,r,t)):[]}getSuffix(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(e,s);return r?this.shouldUseIntlApi()?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const s=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[s];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));const n=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:n():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?n():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}shouldUseIntlApi(){return!sr.includes(this.options.compatibilityJSON)}}function It(i,e,t){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,n=Hs(i,e,t);return!n&&r&&typeof t=="string"&&(n=Ke(i,t,s),n===void 0&&(n=Ke(e,t,s))),n}class or{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=j.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const t=e.interpolation;this.escape=t.escape!==void 0?t.escape:Ys,this.escapeValue=t.escapeValue!==void 0?t.escapeValue:!0,this.useRawValueToEscape=t.useRawValueToEscape!==void 0?t.useRawValueToEscape:!1,this.prefix=t.prefix?V(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?V(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?V(t.nestingPrefix):t.nestingPrefixEscaped||V("$t("),this.nestingSuffix=t.nestingSuffix?V(t.nestingSuffix):t.nestingSuffixEscaped||V(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=t.alwaysFormat!==void 0?t.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,s)=>t&&t.source===s?(t.lastIndex=0,t):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,s,r){let n,o,l;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(y){return y.replace(/\$/g,"$$$$")}const f=y=>{if(y.indexOf(this.formatSeparator)<0){const p=It(t,a,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(p,void 0,s,{...r,...t,interpolationkey:y}):p}const S=y.split(this.formatSeparator),d=S.shift().trim(),g=S.join(this.formatSeparator).trim();return this.format(It(t,a,d,this.options.keySeparator,this.options.ignoreJSONStructure),g,s,{...r,...t,interpolationkey:d})};this.resetRegExp();const h=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,c=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>u(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?u(this.escape(y)):u(y)}].forEach(y=>{for(l=0;n=y.regex.exec(e);){const S=n[1].trim();if(o=f(S),o===void 0)if(typeof h=="function"){const g=h(e,n,r);o=typeof g=="string"?g:""}else if(r&&Object.prototype.hasOwnProperty.call(r,S))o="";else if(c){o=n[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=vt(o));const d=y.safeValue(o);if(e=e.replace(n[0],d),c?(y.regex.lastIndex+=o.length,y.regex.lastIndex-=n[0].length):y.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,n,o;function l(a,u){const f=this.nestingOptionsSeparator;if(a.indexOf(f)<0)return a;const h=a.split(new RegExp(`${f}[ ]*{`));let c=`{${h[1]}`;a=h[0],c=this.interpolate(c,o);const m=c.match(/'/g),y=c.match(/"/g);(m&&m.length%2===0&&!y||y.length%2!==0)&&(c=c.replace(/'/g,'"'));try{o=JSON.parse(c),u&&(o={...u,...o})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${a}`,S),`${a}${f}${c}`}return delete o.defaultValue,a}for(;r=this.nestingRegexp.exec(e);){let a=[];o={...s},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const f=r[1].split(this.formatSeparator).map(h=>h.trim());r[1]=f.shift(),a=f,u=!0}if(n=t(l.call(this,r[1].trim(),o),o),n&&r[0]===e&&typeof n!="string")return n;typeof n!="string"&&(n=vt(n)),n||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),n=""),u&&(n=a.reduce((f,h)=>this.format(f,h,s.lng,{...s,interpolationkey:r[1].trim()}),n.trim())),e=e.replace(r[0],n),this.regexp.lastIndex=0}return e}}function ar(i){let e=i.toLowerCase().trim();const t={};if(i.indexOf("(")>-1){const s=i.split("(");e=s[0].toLowerCase().trim();const r=s[1].substring(0,s[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(o=>{if(!o)return;const[l,...a]=o.split(":"),u=a.join(":").trim().replace(/^'+|'+$/g,"");t[l.trim()]||(t[l.trim()]=u),u==="false"&&(t[l.trim()]=!1),u==="true"&&(t[l.trim()]=!0),isNaN(u)||(t[l.trim()]=parseInt(u,10))})}return{formatName:e,formatOptions:t}}function Q(i){const e={};return function(s,r,n){const o=r+JSON.stringify(n);let l=e[o];return l||(l=i(Re(r),n),e[o]=l),l(s)}}class lr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=j.create("formatter"),this.options=e,this.formats={number:Q((t,s)=>{const r=new Intl.NumberFormat(t,{...s});return n=>r.format(n)}),currency:Q((t,s)=>{const r=new Intl.NumberFormat(t,{...s,style:"currency"});return n=>r.format(n)}),datetime:Q((t,s)=>{const r=new Intl.DateTimeFormat(t,{...s});return n=>r.format(n)}),relativetime:Q((t,s)=>{const r=new Intl.RelativeTimeFormat(t,{...s});return n=>r.format(n,s.range||"day")}),list:Q((t,s)=>{const r=new Intl.ListFormat(t,{...s});return n=>r.format(n)})},this.init(e)}init(e){const s=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Q(t)}format(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return t.split(this.formatSeparator).reduce((l,a)=>{const{formatName:u,formatOptions:f}=ar(a);if(this.formats[u]){let h=l;try{const c=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},m=c.locale||c.lng||r.locale||r.lng||s;h=this.formats[u](l,m,{...f,...r,...c})}catch(c){this.logger.warn(c)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},e)}}function ur(i,e){i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)}class fr extends Ne{constructor(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=r,this.logger=j.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,r.backend,r)}queueLoad(e,t,s,r){const n={},o={},l={},a={};return e.forEach(u=>{let f=!0;t.forEach(h=>{const c=`${u}|${h}`;!s.reload&&this.store.hasResourceBundle(u,h)?this.state[c]=2:this.state[c]<0||(this.state[c]===1?o[c]===void 0&&(o[c]=!0):(this.state[c]=1,f=!1,o[c]===void 0&&(o[c]=!0),n[c]===void 0&&(n[c]=!0),a[h]===void 0&&(a[h]=!0)))}),f||(l[u]=!0)}),(Object.keys(n).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(n),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(a)}}loaded(e,t,s){const r=e.split("|"),n=r[0],o=r[1];t&&this.emit("failedLoading",n,o,t),s&&this.store.addResourceBundle(n,o,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2;const l={};this.queue.forEach(a=>{Qs(a.loaded,[n],o),ur(a,e),t&&a.errors.push(t),a.pendingCount===0&&!a.done&&(Object.keys(a.loaded).forEach(u=>{l[u]||(l[u]={});const f=a.loaded[u];f.length&&f.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),a.done=!0,a.errors.length?a.callback(a.errors):a.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(a=>!a.done)}read(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:s,tried:r,wait:n,callback:o});return}this.readingCalls++;const l=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&f&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,s,r+1,n*2,o)},n);return}o(u,f)},a=this.backend[s].bind(this.backend);if(a.length===2){try{const u=a(e,t);u&&typeof u.then=="function"?u.then(f=>l(null,f)).catch(l):l(null,u)}catch(u){l(u)}return}return a(e,t,l)}prepareLoading(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof t=="string"&&(t=[t]);const n=this.queueLoad(e,t,s,r);if(!n.toLoad.length)return n.pending.length||r(),null;n.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const s=e.split("|"),r=s[0],n=s[1];this.read(r,n,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${t}loading namespace ${n} for language ${r} failed`,o),!o&&l&&this.logger.log(`${t}loaded namespace ${n} for language ${r}`,l),this.loaded(e,o,l)})}saveMissing(e,t,s,r,n){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend&&this.backend.create){const a={...o,isUpdate:n},u=this.backend.create.bind(this.backend);if(u.length<6)try{let f;u.length===5?f=u(e,t,s,r,a):f=u(e,t,s,r),f&&typeof f.then=="function"?f.then(h=>l(null,h)).catch(l):l(null,f)}catch(f){l(f)}else u(e,t,s,r,l,a)}!e||!e[0]||this.store.addResource(e[0],t,s,r)}}}function Pt(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const s=e[3]||e[2];Object.keys(s).forEach(r=>{t[r]=s[r]})}return t},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Lt(i){return typeof i.ns=="string"&&(i.ns=[i.ns]),typeof i.fallbackLng=="string"&&(i.fallbackLng=[i.fallbackLng]),typeof i.fallbackNS=="string"&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs&&i.supportedLngs.indexOf("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),i}function pe(){}function cr(i){Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(t=>{typeof i[t]=="function"&&(i[t]=i[t].bind(i))})}class ne extends Ne{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Lt(e),this.services={},this.logger=j,this.modules={external:[]},cr(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(s=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(typeof t.ns=="string"?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=Pt();this.options={...r,...this.options,...Lt(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);function n(f){return f?typeof f=="function"?new f:f:null}if(!this.options.isClone){this.modules.logger?j.init(n(this.modules.logger),this.options):j.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=lr);const h=new Et(this.options);this.store=new At(this.options.resources,this.options);const c=this.services;c.logger=j,c.resourceStore=this.store,c.languageUtils=h,c.pluralResolver=new nr(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(c.formatter=n(f),c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new or(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new fr(n(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",function(m){for(var y=arguments.length,S=new Array(y>1?y-1:0),d=1;d<y;d++)S[d-1]=arguments[d];e.emit(m,...S)}),this.modules.languageDetector&&(c.languageDetector=n(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=n(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new Ee(this.services,this.options),this.translator.on("*",function(m){for(var y=arguments.length,S=new Array(y>1?y-1:0),d=1;d<y;d++)S[d-1]=arguments[d];e.emit(m,...S)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,s||(s=pe),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return e.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return e.store[f](...arguments),e}});const a=ee(),u=()=>{const f=(h,c)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(c),s(h,c)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),a}loadResources(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pe;const r=typeof e=="string"?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const n=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&n.indexOf(u)<0&&n.push(u)})};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(a=>o(a)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(n,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(l)})}else s(null)}reloadResources(e,t,s){const r=ee();return e||(e=this.languages),t||(t=this.options.ns),s||(s=pe),this.services.backendConnector.reload(e,t,n=>{r.resolve(),s(n)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Xt.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const s=this.languages[t];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}changeLanguage(e,t){var s=this;this.isLanguageChangingTo=e;const r=ee();this.emit("languageChanging",e);const n=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},o=(a,u)=>{u?(n(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve(function(){return s.t(...arguments)}),t&&t(a,function(){return s.t(...arguments)})},l=a=>{!e&&!a&&this.services.languageDetector&&(a=[]);const u=typeof a=="string"?a:this.services.languageUtils.getBestMatchFromCodes(a);u&&(this.language||n(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,f=>{o(f,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,t,s){var r=this;const n=function(o,l){let a;if(typeof l!="object"){for(var u=arguments.length,f=new Array(u>2?u-2:0),h=2;h<u;h++)f[h-2]=arguments[h];a=r.options.overloadTranslationOptionHandler([o,l].concat(f))}else a={...l};a.lng=a.lng||n.lng,a.lngs=a.lngs||n.lngs,a.ns=a.ns||n.ns,a.keyPrefix=a.keyPrefix||s||n.keyPrefix;const c=r.options.keySeparator||".";let m;return a.keyPrefix&&Array.isArray(o)?m=o.map(y=>`${a.keyPrefix}${c}${y}`):m=a.keyPrefix?`${a.keyPrefix}${c}${o}`:o,r.t(m,a)};return typeof e=="string"?n.lng=e:n.lngs=e,n.ns=t,n.keyPrefix=s,n}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,n=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const o=(l,a)=>{const u=this.services.backendConnector.state[`${l}|${a}`];return u===-1||u===2};if(t.precheck){const l=t.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(s,e)&&(!r||o(n,e)))}loadNamespaces(e,t){const s=ee();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{s.resolve(),t&&t(r)}),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){const s=ee();typeof e=="string"&&(e=[e]);const r=this.options.preload||[],n=e.filter(o=>r.indexOf(o)<0);return n.length?(this.options.preload=r.concat(n),this.loadResources(o=>{s.resolve(),t&&t(o)}),s):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services&&this.services.languageUtils||new Et(Pt());return t.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new ne(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pe;const s=e.forkResourceStore;s&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},n=new ne(r);return(e.debug!==void 0||e.prefix!==void 0)&&(n.logger=n.logger.clone(e)),["store","services","language"].forEach(l=>{n[l]=this[l]}),n.services={...this.services},n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},s&&(n.store=new At(this.store.data,r),n.services.resourceStore=n.store),n.translator=new Ee(n.services,r),n.translator.on("*",function(l){for(var a=arguments.length,u=new Array(a>1?a-1:0),f=1;f<a;f++)u[f-1]=arguments[f];n.emit(l,...u)}),n.init(r,t),n.translator.options=r,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const k=ne.createInstance();k.createInstance=ne.createInstance;k.createInstance;k.dir;k.init;k.loadResources;k.reloadResources;k.use;k.changeLanguage;k.getFixedT;k.t;k.exists;k.setDefaultNamespace;k.hasLoadedNamespace;k.loadNamespaces;k.loadLanguages;var hn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hr(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function pr(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var r=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return i[s]}})}),t}var ot={exports:{}},w=String,qt=function(){return{isColorSupported:!1,reset:w,bold:w,dim:w,italic:w,underline:w,inverse:w,hidden:w,strikethrough:w,black:w,red:w,green:w,yellow:w,blue:w,magenta:w,cyan:w,white:w,gray:w,bgBlack:w,bgRed:w,bgGreen:w,bgYellow:w,bgBlue:w,bgMagenta:w,bgCyan:w,bgWhite:w,blackBright:w,redBright:w,greenBright:w,yellowBright:w,blueBright:w,magentaBright:w,cyanBright:w,whiteBright:w,bgBlackBright:w,bgRedBright:w,bgGreenBright:w,bgYellowBright:w,bgBlueBright:w,bgMagentaBright:w,bgCyanBright:w,bgWhiteBright:w}};ot.exports=qt();ot.exports.createColors=qt;var dr=ot.exports;const gr={},mr=Object.freeze(Object.defineProperty({__proto__:null,default:gr},Symbol.toStringTag,{value:"Module"})),L=pr(mr);let Nt=dr,$t=L,Je=class Zt extends Error{constructor(e,t,s,r,n,o){super(e),this.name="CssSyntaxError",this.reason=e,n&&(this.file=n),r&&(this.source=r),o&&(this.plugin=o),typeof t<"u"&&typeof s<"u"&&(typeof t=="number"?(this.line=t,this.column=s):(this.line=t.line,this.column=t.column,this.endLine=s.line,this.endColumn=s.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,Zt)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=Nt.isColorSupported);let s=f=>f,r=f=>f,n=f=>f;if(e){let{bold:f,gray:h,red:c}=Nt.createColors(!0);r=m=>f(c(m)),s=m=>h(m),$t&&(n=m=>$t(m))}let o=t.split(/\r?\n/),l=Math.max(this.line-3,0),a=Math.min(this.line+2,o.length),u=String(a).length;return o.slice(l,a).map((f,h)=>{let c=l+1+h,m=" "+(" "+c).slice(-u)+" | ";if(c===this.line){if(f.length>160){let S=20,d=Math.max(0,this.column-S),g=Math.max(this.column+S,this.endColumn+S),p=f.slice(d,g),b=s(m.replace(/\d/g," "))+f.slice(0,Math.min(this.column-1,S-1)).replace(/[^\t]/g," ");return r(">")+s(m)+n(p)+`
 `+b+r("^")}let y=s(m.replace(/\d/g," "))+f.slice(0,this.column-1).replace(/[^\t]/g," ");return r(">")+s(m)+n(f)+`
 `+y+r("^")}return" "+s(m)+n(f)}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};var at=Je;Je.default=Je;const Dt={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function yr(i){return i[0].toUpperCase()+i.slice(1)}let Ve=class{constructor(e){this.builder=e}atrule(e,t){let s="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?s+=e.raws.afterName:r&&(s+=" "),e.nodes)this.block(e,s+r);else{let n=(e.raws.between||"")+(t?";":"");this.builder(s+r+n,e)}}beforeAfter(e,t){let s;e.type==="decl"?s=this.raw(e,null,"beforeDecl"):e.type==="comment"?s=this.raw(e,null,"beforeComment"):t==="before"?s=this.raw(e,null,"beforeRule"):s=this.raw(e,null,"beforeClose");let r=e.parent,n=0;for(;r&&r.type!=="root";)n+=1,r=r.parent;if(s.includes(`
`)){let o=this.raw(e,null,"indent");if(o.length)for(let l=0;l<n;l++)s+=o}return s}block(e,t){let s=this.raw(e,"between","beforeOpen");this.builder(t+s+"{",e,"start");let r;e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let s=this.raw(e,"semicolon");for(let r=0;r<e.nodes.length;r++){let n=e.nodes[r],o=this.raw(n,"before");o&&this.builder(o),this.stringify(n,t!==r||s)}}comment(e){let t=this.raw(e,"left","commentLeft"),s=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+s+"*/",e)}decl(e,t){let s=this.raw(e,"between","colon"),r=e.prop+s+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)}document(e){this.body(e)}raw(e,t,s){let r;if(s||(s=t),t&&(r=e.raws[t],typeof r<"u"))return r;let n=e.parent;if(s==="before"&&(!n||n.type==="root"&&n.first===e||n&&n.type==="document"))return"";if(!n)return Dt[s];let o=e.root();if(o.rawCache||(o.rawCache={}),typeof o.rawCache[s]<"u")return o.rawCache[s];if(s==="before"||s==="after")return this.beforeAfter(e,s);{let l="raw"+yr(s);this[l]?r=this[l](o,e):o.walk(a=>{if(r=a.raws[t],typeof r<"u")return!1})}return typeof r>"u"&&(r=Dt[s]),o.rawCache[s]=r,r}rawBeforeClose(e){let t;return e.walk(s=>{if(s.nodes&&s.nodes.length>0&&typeof s.raws.after<"u")return t=s.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let s;return e.walkComments(r=>{if(typeof r.raws.before<"u")return s=r.raws.before,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),typeof s>"u"?s=this.raw(t,null,"beforeDecl"):s&&(s=s.replace(/\S/g,"")),s}rawBeforeDecl(e,t){let s;return e.walkDecls(r=>{if(typeof r.raws.before<"u")return s=r.raws.before,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),typeof s>"u"?s=this.raw(t,null,"beforeRule"):s&&(s=s.replace(/\S/g,"")),s}rawBeforeOpen(e){let t;return e.walk(s=>{if(s.type!=="decl"&&(t=s.raws.between,typeof t<"u"))return!1}),t}rawBeforeRule(e){let t;return e.walk(s=>{if(s.nodes&&(s.parent!==e||e.first!==s)&&typeof s.raws.before<"u")return t=s.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(s=>{if(typeof s.raws.between<"u")return t=s.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(s=>{if(s.nodes&&s.nodes.length===0&&(t=s.raws.after,typeof t<"u"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(s=>{let r=s.parent;if(r&&r!==e&&r.parent&&r.parent===e&&typeof s.raws.before<"u"){let n=s.raws.before.split(`
`);return t=n[n.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(s=>{if(s.nodes&&s.nodes.length&&s.last.type==="decl"&&(t=s.raws.semicolon,typeof t<"u"))return!1}),t}rawValue(e,t){let s=e[t],r=e.raws[t];return r&&r.value===s?r.raw:s}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var es=Ve;Ve.default=Ve;let wr=es;function Qe(i,e){new wr(e).stringify(i)}var $e=Qe;Qe.default=Qe;var fe={};fe.isClean=Symbol("isClean");fe.my=Symbol("my");let br=at,xr=es,Sr=$e,{isClean:te,my:Or}=fe;function He(i,e){let t=new i.constructor;for(let s in i){if(!Object.prototype.hasOwnProperty.call(i,s)||s==="proxyCache")continue;let r=i[s],n=typeof r;s==="parent"&&n==="object"?e&&(t[s]=e):s==="source"?t[s]=r:Array.isArray(r)?t[s]=r.map(o=>He(o,t)):(n==="object"&&r!==null&&(r=He(r)),t[s]=r)}return t}let We=class{constructor(e={}){this.raws={},this[te]=!1,this[Or]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let s of e[t])typeof s.clone=="function"?this.append(s.clone()):this.append(s)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=He(this);for(let s in e)t[s]=e[s];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:s,start:r}=this.rangeBy(t);return this.source.input.error(e,{column:r.column,line:r.line},{column:s.column,line:s.line},t)}return new br(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,s){return e[t]===s||(e[t]=s,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markClean(){this[te]=!0}markDirty(){if(this[te]){this[te]=!1;let e=this;for(;e=e.parent;)e[te]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e,t){let s=this.source.start;if(e.index)s=this.positionInside(e.index,t);else if(e.word){t=this.toString();let r=t.indexOf(e.word);r!==-1&&(s=this.positionInside(r,t))}return s}positionInside(e,t){let s=t||this.toString(),r=this.source.start.column,n=this.source.start.line;for(let o=0;o<e;o++)s[o]===`
`?(r=1,n+=1):r+=1;return{column:r,line:n}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},s=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let r=this.toString(),n=r.indexOf(e.word);n!==-1&&(t=this.positionInside(n,r),s=this.positionInside(n+e.word.length,r))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?s={column:e.end.column,line:e.end.line}:typeof e.endIndex=="number"?s=this.positionInside(e.endIndex):e.index&&(s=this.positionInside(e.index+1));return(s.line<t.line||s.line===t.line&&s.column<=t.column)&&(s={column:t.column+1,line:t.line}),{end:s,start:t}}raw(e,t){return new xr().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,s=!1;for(let r of e)r===this?s=!0:s?(this.parent.insertAfter(t,r),t=r):this.parent.insertBefore(t,r);s||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let s={},r=t==null;t=t||new Map;let n=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o)||o==="parent"||o==="proxyCache")continue;let l=this[o];if(Array.isArray(l))s[o]=l.map(a=>typeof a=="object"&&a.toJSON?a.toJSON(null,t):a);else if(typeof l=="object"&&l.toJSON)s[o]=l.toJSON(null,t);else if(o==="source"){let a=t.get(l.input);a==null&&(a=n,t.set(l.input,n),n++),s[o]={end:l.end,inputId:a,start:l.start}}else s[o]=l}return r&&(s.inputs=[...t.keys()].map(o=>o.toJSON())),s}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=Sr){e.stringify&&(e=e.stringify);let t="";return e(this,s=>{t+=s}),t}warn(e,t,s){let r={node:this};for(let n in s)r[n]=s[n];return e.warn(t,r)}get proxyOf(){return this}};var De=We;We.default=We;let vr=De,Ye=class extends vr{constructor(e){super(e),this.type="comment"}};var Te=Ye;Ye.default=Ye;let Cr=De,Ge=class extends Cr{constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var je=Ge;Ge.default=Ge;let ts=Te,ss=je,Ar=De,{isClean:rs,my:is}=fe,lt,ns,os,ut;function as(i){return i.map(e=>(e.nodes&&(e.nodes=as(e.nodes)),delete e.source,e))}function ls(i){if(i[rs]=!1,i.proxyOf.nodes)for(let e of i.proxyOf.nodes)ls(e)}let M=class us extends Ar{append(...e){for(let t of e){let s=this.normalize(t,this.last);for(let r of s)this.proxyOf.nodes.push(r)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),s,r;for(;this.indexes[t]<this.proxyOf.nodes.length&&(s=this.indexes[t],r=e(this.proxyOf.nodes[s],s),r!==!1);)this.indexes[t]+=1;return delete this.indexes[t],r}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...s)=>e[t](...s.map(r=>typeof r=="function"?(n,o)=>r(n.toProxy(),o):r)):t==="every"||t==="some"?s=>e[t]((r,...n)=>s(r.toProxy(),...n)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(s=>s.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,s){return e[t]===s||(e[t]=s,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let s=this.index(e),r=this.normalize(t,this.proxyOf.nodes[s]).reverse();s=this.index(e);for(let o of r)this.proxyOf.nodes.splice(s+1,0,o);let n;for(let o in this.indexes)n=this.indexes[o],s<n&&(this.indexes[o]=n+r.length);return this.markDirty(),this}insertBefore(e,t){let s=this.index(e),r=s===0?"prepend":!1,n=this.normalize(t,this.proxyOf.nodes[s],r).reverse();s=this.index(e);for(let l of n)this.proxyOf.nodes.splice(s,0,l);let o;for(let l in this.indexes)o=this.indexes[l],s<=o&&(this.indexes[l]=o+n.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=as(ns(e).nodes);else if(typeof e>"u")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let r of e)r.parent&&r.parent.removeChild(r,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let r of e)r.parent&&r.parent.removeChild(r,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new ss(e)]}else if(e.selector||e.selectors)e=[new ut(e)];else if(e.name)e=[new lt(e)];else if(e.text)e=[new ts(e)];else throw new Error("Unknown node type in node creation");return e.map(r=>(r[is]||us.rebuild(r),r=r.proxyOf,r.parent&&r.parent.removeChild(r),r[rs]&&ls(r),r.raws||(r.raws={}),typeof r.raws.before>"u"&&t&&typeof t.raws.before<"u"&&(r.raws.before=t.raws.before.replace(/\S/g,"")),r.parent=this.proxyOf,r))}prepend(...e){e=e.reverse();for(let t of e){let s=this.normalize(t,this.first,"prepend").reverse();for(let r of s)this.proxyOf.nodes.unshift(r);for(let r in this.indexes)this.indexes[r]=this.indexes[r]+s.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let s in this.indexes)t=this.indexes[s],t>=e&&(this.indexes[s]=t-1);return this.markDirty(),this}replaceValues(e,t,s){return s||(s=t,t={}),this.walkDecls(r=>{t.props&&!t.props.includes(r.prop)||t.fast&&!r.value.includes(t.fast)||(r.value=r.value.replace(e,s))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,s)=>{let r;try{r=e(t,s)}catch(n){throw t.addToError(n)}return r!==!1&&t.walk&&(r=t.walk(e)),r})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((s,r)=>{if(s.type==="atrule"&&e.test(s.name))return t(s,r)}):this.walk((s,r)=>{if(s.type==="atrule"&&s.name===e)return t(s,r)}):(t=e,this.walk((s,r)=>{if(s.type==="atrule")return t(s,r)}))}walkComments(e){return this.walk((t,s)=>{if(t.type==="comment")return e(t,s)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((s,r)=>{if(s.type==="decl"&&e.test(s.prop))return t(s,r)}):this.walk((s,r)=>{if(s.type==="decl"&&s.prop===e)return t(s,r)}):(t=e,this.walk((s,r)=>{if(s.type==="decl")return t(s,r)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((s,r)=>{if(s.type==="rule"&&e.test(s.selector))return t(s,r)}):this.walk((s,r)=>{if(s.type==="rule"&&s.selector===e)return t(s,r)}):(t=e,this.walk((s,r)=>{if(s.type==="rule")return t(s,r)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};M.registerParse=i=>{ns=i};M.registerRule=i=>{ut=i};M.registerAtRule=i=>{lt=i};M.registerRoot=i=>{os=i};var K=M;M.default=M;M.rebuild=i=>{i.type==="atrule"?Object.setPrototypeOf(i,lt.prototype):i.type==="rule"?Object.setPrototypeOf(i,ut.prototype):i.type==="decl"?Object.setPrototypeOf(i,ss.prototype):i.type==="comment"?Object.setPrototypeOf(i,ts.prototype):i.type==="root"&&Object.setPrototypeOf(i,os.prototype),i[is]=!0,i.nodes&&i.nodes.forEach(e=>{M.rebuild(e)})};let fs=K,ke=class extends fs{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var ft=ke;ke.default=ke;fs.registerAtRule(ke);let Rr=K,cs,hs,oe=class extends Rr{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new cs(new hs,this,e).stringify()}};oe.registerLazyResult=i=>{cs=i};oe.registerProcessor=i=>{hs=i};var ct=oe;oe.default=oe;let Er="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",kr=(i,e=21)=>(t=e)=>{let s="",r=t|0;for(;r--;)s+=i[Math.random()*i.length|0];return s},Ir=(i=21)=>{let e="",t=i|0;for(;t--;)e+=Er[Math.random()*64|0];return e};var Pr={nanoid:Ir,customAlphabet:kr};let{existsSync:Lr,readFileSync:Nr}=L,{dirname:Me,join:$r}=L,{SourceMapConsumer:Tt,SourceMapGenerator:jt}=L;function Dr(i){return Buffer?Buffer.from(i,"base64").toString():window.atob(i)}let Xe=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let s=t.map?t.map.prev:void 0,r=this.loadMap(t.from,s);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Me(this.mapFile)),r&&(this.text=r)}consumer(){return this.consumerCache||(this.consumerCache=new Tt(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,s=/^data:application\/json;base64,/,r=/^data:application\/json;charset=utf-?8,/,n=/^data:application\/json,/,o=e.match(r)||e.match(n);if(o)return decodeURIComponent(e.substr(o[0].length));let l=e.match(t)||e.match(s);if(l)return Dr(e.substr(l[0].length));let a=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+a)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/g);if(!t)return;let s=e.lastIndexOf(t.pop()),r=e.indexOf("*/",s);s>-1&&r>-1&&(this.annotation=this.getAnnotationURL(e.substring(s,r)))}loadFile(e){if(this.root=Me(e),Lr(e))return this.mapFile=e,Nr(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let s=t(e);if(s){let r=this.loadFile(s);if(!r)throw new Error("Unable to load previous source map: "+s.toString());return r}}else{if(t instanceof Tt)return jt.fromSourceMap(t).toString();if(t instanceof jt)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let s=this.annotation;return e&&(s=$r(Me(e),s)),this.loadFile(s)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var ps=Xe;Xe.default=Xe;let{nanoid:Tr}=Pr,{isAbsolute:qe,resolve:Ze}=L,{SourceMapConsumer:jr,SourceMapGenerator:Fr}=L,{fileURLToPath:Ft,pathToFileURL:de}=L,Bt=at,Br=ps,Ue=L,ze=Symbol("fromOffsetCache"),Mr=!!(jr&&Fr),Mt=!!(Ze&&qe),Ie=class{constructor(e,t={}){if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!Mt||/^\w+:\/\//.test(t.from)||qe(t.from)?this.file=t.from:this.file=Ze(t.from)),Mt&&Mr){let s=new Br(this.css,t);if(s.text){this.map=s;let r=s.consumer().file;!this.file&&r&&(this.file=this.mapResolve(r))}}this.file||(this.id="<input css "+Tr(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,s,r={}){let n,o,l;if(t&&typeof t=="object"){let u=t,f=s;if(typeof u.offset=="number"){let h=this.fromOffset(u.offset);t=h.line,s=h.col}else t=u.line,s=u.column;if(typeof f.offset=="number"){let h=this.fromOffset(f.offset);o=h.line,n=h.col}else o=f.line,n=f.column}else if(!s){let u=this.fromOffset(t);t=u.line,s=u.col}let a=this.origin(t,s,o,n);return a?l=new Bt(e,a.endLine===void 0?a.line:{column:a.column,line:a.line},a.endLine===void 0?a.column:{column:a.endColumn,line:a.endLine},a.source,a.file,r.plugin):l=new Bt(e,o===void 0?t:{column:s,line:t},o===void 0?s:{column:n,line:o},this.css,this.file,r.plugin),l.input={column:s,endColumn:n,endLine:o,line:t,source:this.css},this.file&&(de&&(l.input.url=de(this.file).toString()),l.input.file=this.file),l}fromOffset(e){let t,s;if(this[ze])s=this[ze];else{let n=this.css.split(`
`);s=new Array(n.length);let o=0;for(let l=0,a=n.length;l<a;l++)s[l]=o,o+=n[l].length+1;this[ze]=s}t=s[s.length-1];let r=0;if(e>=t)r=s.length-1;else{let n=s.length-2,o;for(;r<n;)if(o=r+(n-r>>1),e<s[o])n=o-1;else if(e>=s[o+1])r=o+1;else{r=o;break}}return{col:e-s[r]+1,line:r+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:Ze(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,s,r){if(!this.map)return!1;let n=this.map.consumer(),o=n.originalPositionFor({column:t,line:e});if(!o.source)return!1;let l;typeof s=="number"&&(l=n.originalPositionFor({column:r,line:s}));let a;qe(o.source)?a=de(o.source):a=new URL(o.source,this.map.consumer().sourceRoot||de(this.map.mapFile));let u={column:o.column,endColumn:l&&l.column,endLine:l&&l.line,line:o.line,url:a.toString()};if(a.protocol==="file:")if(Ft)u.file=Ft(a);else throw new Error("file: protocol is not available in this PostCSS build");let f=n.sourceContentFor(o.source);return f&&(u.source=f),u}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var Fe=Ie;Ie.default=Ie;Ue&&Ue.registerInput&&Ue.registerInput(Ie);let ds=K,gs,ms,W=class extends ds{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,s){let r=super.normalize(e);if(t){if(s==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let n of r)n.raws.before=t.raws.before}return r}removeChild(e,t){let s=this.index(e);return!t&&s===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[s].raws.before),super.removeChild(e)}toResult(e={}){return new gs(new ms,this,e).stringify()}};W.registerLazyResult=i=>{gs=i};W.registerProcessor=i=>{ms=i};var ce=W;W.default=W;ds.registerRoot(W);let ae={comma(i){return ae.split(i,[","],!0)},space(i){let e=[" ",`
`,"	"];return ae.split(i,e)},split(i,e,t){let s=[],r="",n=!1,o=0,l=!1,a="",u=!1;for(let f of i)u?u=!1:f==="\\"?u=!0:l?f===a&&(l=!1):f==='"'||f==="'"?(l=!0,a=f):f==="("?o+=1:f===")"?o>0&&(o-=1):o===0&&e.includes(f)&&(n=!0),n?(r!==""&&s.push(r.trim()),r="",n=!1):r+=f;return(t||r!=="")&&s.push(r.trim()),s}};var ys=ae;ae.default=ae;let ws=K,Ur=ys,Pe=class extends ws{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Ur.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,s=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(s)}};var ht=Pe;Pe.default=Pe;ws.registerRule(Pe);let zr=ft,_r=Te,Kr=je,Jr=Fe,Vr=ps,Qr=ce,Hr=ht;function le(i,e){if(Array.isArray(i))return i.map(r=>le(r));let{inputs:t,...s}=i;if(t){e=[];for(let r of t){let n={...r,__proto__:Jr.prototype};n.map&&(n.map={...n.map,__proto__:Vr.prototype}),e.push(n)}}if(s.nodes&&(s.nodes=i.nodes.map(r=>le(r,e))),s.source){let{inputId:r,...n}=s.source;s.source=n,r!=null&&(s.source.input=e[r])}if(s.type==="root")return new Qr(s);if(s.type==="decl")return new Kr(s);if(s.type==="rule")return new Hr(s);if(s.type==="comment")return new _r(s);if(s.type==="atrule")return new zr(s);throw new Error("Unknown node type: "+i.type)}var Wr=le;le.default=le;let{dirname:Oe,relative:bs,resolve:xs,sep:Ss}=L,{SourceMapConsumer:Os,SourceMapGenerator:ve}=L,{pathToFileURL:Ut}=L,Yr=Fe,Gr=!!(Os&&ve),Xr=!!(Oe&&xs&&bs&&Ss),qr=class{constructor(e,t,s,r){this.stringify=e,this.mapOpts=s.map||{},this.root=t,this.opts=s,this.css=r,this.originalCSS=r,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),s=e.root||Oe(e.file),r;this.mapOpts.sourcesContent===!1?(r=new Os(e.text),r.sourcesContent&&(r.sourcesContent=null)):r=e.consumer(),this.map.applySourceMap(r,t,this.toUrl(this.path(s)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),Xr&&Gr&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=ve.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new ve({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new ve({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,t=1,s="<no source>",r={generated:{column:0,line:0},original:{column:0,line:0},source:""},n,o;this.stringify(this.root,(l,a,u)=>{if(this.css+=l,a&&u!=="end"&&(r.generated.line=e,r.generated.column=t-1,a.source&&a.source.start?(r.source=this.sourcePath(a),r.original.line=a.source.start.line,r.original.column=a.source.start.column-1,this.map.addMapping(r)):(r.source=s,r.original.line=1,r.original.column=0,this.map.addMapping(r))),o=l.match(/\n/g),o?(e+=o.length,n=l.lastIndexOf(`
`),t=l.length-n):t+=l.length,a&&u!=="start"){let f=a.parent||{raws:{}};(!(a.type==="decl"||a.type==="atrule"&&!a.nodes)||a!==f.last||f.raws.semicolon)&&(a.source&&a.source.end?(r.source=this.sourcePath(a),r.original.line=a.source.end.line,r.original.column=a.source.end.column-1,r.generated.line=e,r.generated.column=t-2,this.map.addMapping(r)):(r.source=s,r.original.line=1,r.original.column=0,r.generated.line=e,r.generated.column=t-1,this.map.addMapping(r)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let s=this.opts.to?Oe(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(s=Oe(xs(s,this.mapOpts.annotation)));let r=bs(s,e);return this.memoizedPaths.set(e,r),r}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new Yr(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let s=t.source.input.from;if(s&&!e[s]){e[s]=!0;let r=this.usesFileUrls?this.toFileUrl(s):this.toUrl(this.path(s));this.map.setSourceContent(r,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(Ut){let s=Ut(e).toString();return this.memoizedFileURLs.set(e,s),s}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;Ss==="\\"&&(e=e.replace(/\\/g,"/"));let s=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,s),s}};var vs=qr;const _e=39,zt=34,ge=92,_t=47,me=10,se=32,ye=12,we=9,be=13,Zr=91,ei=93,ti=40,si=41,ri=123,ii=125,ni=59,oi=42,ai=58,li=64,xe=/[\t\n\f\r "#'()/;[\\\]{}]/g,Se=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,ui=/.[\r\n"'(/\\]/,Kt=/[\da-f]/i;var fi=function(e,t={}){let s=e.css.valueOf(),r=t.ignoreErrors,n,o,l,a,u,f,h,c,m,y,S=s.length,d=0,g=[],p=[];function b(){return d}function x(P){throw e.error("Unclosed "+P,d)}function R(){return p.length===0&&d>=S}function v(P){if(p.length)return p.pop();if(d>=S)return;let U=P?P.ignoreUnclosed:!1;switch(n=s.charCodeAt(d),n){case me:case se:case we:case be:case ye:{a=d;do a+=1,n=s.charCodeAt(a);while(n===se||n===me||n===we||n===be||n===ye);f=["space",s.slice(d,a)],d=a-1;break}case Zr:case ei:case ri:case ii:case ai:case ni:case si:{let F=String.fromCharCode(n);f=[F,F,d];break}case ti:{if(y=g.length?g.pop()[1]:"",m=s.charCodeAt(d+1),y==="url"&&m!==_e&&m!==zt&&m!==se&&m!==me&&m!==we&&m!==ye&&m!==be){a=d;do{if(h=!1,a=s.indexOf(")",a+1),a===-1)if(r||U){a=d;break}else x("bracket");for(c=a;s.charCodeAt(c-1)===ge;)c-=1,h=!h}while(h);f=["brackets",s.slice(d,a+1),d,a],d=a}else a=s.indexOf(")",d+1),o=s.slice(d,a+1),a===-1||ui.test(o)?f=["(","(",d]:(f=["brackets",o,d,a],d=a);break}case _e:case zt:{u=n===_e?"'":'"',a=d;do{if(h=!1,a=s.indexOf(u,a+1),a===-1)if(r||U){a=d+1;break}else x("string");for(c=a;s.charCodeAt(c-1)===ge;)c-=1,h=!h}while(h);f=["string",s.slice(d,a+1),d,a],d=a;break}case li:{xe.lastIndex=d+1,xe.test(s),xe.lastIndex===0?a=s.length-1:a=xe.lastIndex-2,f=["at-word",s.slice(d,a+1),d,a],d=a;break}case ge:{for(a=d,l=!0;s.charCodeAt(a+1)===ge;)a+=1,l=!l;if(n=s.charCodeAt(a+1),l&&n!==_t&&n!==se&&n!==me&&n!==we&&n!==be&&n!==ye&&(a+=1,Kt.test(s.charAt(a)))){for(;Kt.test(s.charAt(a+1));)a+=1;s.charCodeAt(a+1)===se&&(a+=1)}f=["word",s.slice(d,a+1),d,a],d=a;break}default:{n===_t&&s.charCodeAt(d+1)===oi?(a=s.indexOf("*/",d+2)+1,a===0&&(r||U?a=s.length:x("comment")),f=["comment",s.slice(d,a+1),d,a],d=a):(Se.lastIndex=d+1,Se.test(s),Se.lastIndex===0?a=s.length-1:a=Se.lastIndex-2,f=["word",s.slice(d,a+1),d,a],g.push(f),d=a);break}}return d++,f}function C(P){p.push(P)}return{back:C,endOfFile:R,nextToken:v,position:b}};let ci=ft,hi=Te,pi=je,di=ce,Jt=ht,gi=fi;const Vt={empty:!0,space:!0};function mi(i){for(let e=i.length-1;e>=0;e--){let t=i[e],s=t[3]||t[2];if(s)return s}}let yi=class{constructor(e){this.input=e,this.root=new di,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new ci;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let s,r,n,o=!1,l=!1,a=[],u=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),s=e[0],s==="("||s==="["?u.push(s==="("?")":"]"):s==="{"&&u.length>0?u.push("}"):s===u[u.length-1]&&u.pop(),u.length===0)if(s===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(s==="{"){l=!0;break}else if(s==="}"){if(a.length>0){for(n=a.length-1,r=a[n];r&&r[0]==="space";)r=a[--n];r&&(t.source.end=this.getPosition(r[3]||r[2]),t.source.end.offset++)}this.end(e);break}else a.push(e);else a.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(t.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(t,"params",a),o&&(e=a[a.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),l&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let s=0,r;for(let n=t-1;n>=0&&(r=e[n],!(r[0]!=="space"&&(s+=1,s===2)));n--);throw this.input.error("Missed semicolon",r[0]==="word"?r[3]+1:r[2])}colon(e){let t=0,s,r,n;for(let[o,l]of e.entries()){if(r=l,n=r[0],n==="("&&(t+=1),n===")"&&(t-=1),t===0&&n===":")if(!s)this.doubleColon(r);else{if(s[0]==="word"&&s[1]==="progid")continue;return o}s=r}return!1}comment(e){let t=new hi;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let s=e[1].slice(2,-2);if(/^\s*$/.test(s))t.text="",t.raws.left=s,t.raws.right="";else{let r=s.match(/^(\s*)([^]*\S)(\s*)$/);t.text=r[2],t.raws.left=r[1],t.raws.right=r[3]}}createTokenizer(){this.tokenizer=gi(this.input)}decl(e,t){let s=new pi;this.init(s,e[0][2]);let r=e[e.length-1];for(r[0]===";"&&(this.semicolon=!0,e.pop()),s.source.end=this.getPosition(r[3]||r[2]||mi(e)),s.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),s.raws.before+=e.shift()[1];for(s.source.start=this.getPosition(e[0][2]),s.prop="";e.length;){let u=e[0][0];if(u===":"||u==="space"||u==="comment")break;s.prop+=e.shift()[1]}s.raws.between="";let n;for(;e.length;)if(n=e.shift(),n[0]===":"){s.raws.between+=n[1];break}else n[0]==="word"&&/\w/.test(n[1])&&this.unknownWord([n]),s.raws.between+=n[1];(s.prop[0]==="_"||s.prop[0]==="*")&&(s.raws.before+=s.prop[0],s.prop=s.prop.slice(1));let o=[],l;for(;e.length&&(l=e[0][0],!(l!=="space"&&l!=="comment"));)o.push(e.shift());this.precheckMissedSemicolon(e);for(let u=e.length-1;u>=0;u--){if(n=e[u],n[1].toLowerCase()==="!important"){s.important=!0;let f=this.stringFrom(e,u);f=this.spacesFromEnd(e)+f,f!==" !important"&&(s.raws.important=f);break}else if(n[1].toLowerCase()==="important"){let f=e.slice(0),h="";for(let c=u;c>0;c--){let m=f[c][0];if(h.trim().startsWith("!")&&m!=="space")break;h=f.pop()[1]+h}h.trim().startsWith("!")&&(s.important=!0,s.raws.important=h,e=f)}if(n[0]!=="space"&&n[0]!=="comment")break}e.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(s.raws.between+=o.map(u=>u[1]).join(""),o=[]),this.raw(s,"value",o.concat(e),t),s.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new Jt;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,s=null,r=!1,n=null,o=[],l=e[1].startsWith("--"),a=[],u=e;for(;u;){if(s=u[0],a.push(u),s==="("||s==="[")n||(n=u),o.push(s==="("?")":"]");else if(l&&r&&s==="{")n||(n=u),o.push("}");else if(o.length===0)if(s===";")if(r){this.decl(a,l);return}else break;else if(s==="{"){this.rule(a);return}else if(s==="}"){this.tokenizer.back(a.pop()),t=!0;break}else s===":"&&(r=!0);else s===o[o.length-1]&&(o.pop(),o.length===0&&(n=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(n),t&&r){if(!l)for(;a.length&&(u=a[a.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(a.pop());this.decl(a,l)}else this.unknownWord(a)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,s,r){let n,o,l=s.length,a="",u=!0,f,h;for(let c=0;c<l;c+=1)n=s[c],o=n[0],o==="space"&&c===l-1&&!r?u=!1:o==="comment"?(h=s[c-1]?s[c-1][0]:"empty",f=s[c+1]?s[c+1][0]:"empty",!Vt[h]&&!Vt[f]?a.slice(-1)===","?u=!1:a+=n[1]:u=!1):a+=n[1];if(!u){let c=s.reduce((m,y)=>m+y[1],"");e.raws[t]={raw:c,value:a}}e[t]=a}rule(e){e.pop();let t=new Jt;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,s="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)s=e.pop()[1]+s;return s}spacesAndCommentsFromStart(e){let t,s="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)s+=e.shift()[1];return s}spacesFromEnd(e){let t,s="";for(;e.length&&(t=e[e.length-1][0],t==="space");)s=e.pop()[1]+s;return s}stringFrom(e,t){let s="";for(let r=t;r<e.length;r++)s+=e[r][1];return e.splice(t,e.length-t),s}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};var wi=yi;let bi=K,xi=Fe,Si=wi;function Le(i,e){let t=new xi(i,e),s=new Si(t);try{s.parse()}catch(r){throw r}return s.root}var pt=Le;Le.default=Le;bi.registerParse(Le);let et=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let s=t.node.rangeBy(t);this.line=s.start.line,this.column=s.start.column,this.endLine=s.end.line,this.endColumn=s.end.column}for(let s in t)this[s]=t[s]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var Cs=et;et.default=et;let Oi=Cs,tt=class{constructor(e,t,s){this.processor=e,this.messages=[],this.root=t,this.opts=s,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let s=new Oi(e,t);return this.messages.push(s),s}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}};var dt=tt;tt.default=tt;let vi=K,Ci=ct,Ai=vs,Ri=pt,Qt=dt,Ei=ce,ki=$e,{isClean:$,my:Ii}=fe;const Pi={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Li={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Ni={Once:!0,postcssPlugin:!0,prepare:!0},Y=0;function re(i){return typeof i=="object"&&typeof i.then=="function"}function As(i){let e=!1,t=Pi[i.type];return i.type==="decl"?e=i.prop.toLowerCase():i.type==="atrule"&&(e=i.name.toLowerCase()),e&&i.append?[t,t+"-"+e,Y,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:i.append?[t,Y,t+"Exit"]:[t,t+"Exit"]}function Ht(i){let e;return i.type==="document"?e=["Document",Y,"DocumentExit"]:i.type==="root"?e=["Root",Y,"RootExit"]:e=As(i),{eventIndex:0,events:e,iterator:0,node:i,visitorIndex:0,visitors:[]}}function st(i){return i[$]=!1,i.nodes&&i.nodes.forEach(e=>st(e)),i}let rt={},G=class Rs{constructor(e,t,s){this.stringified=!1,this.processed=!1;let r;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))r=st(t);else if(t instanceof Rs||t instanceof Qt)r=st(t.root),t.map&&(typeof s.map>"u"&&(s.map={}),s.map.inline||(s.map.inline=!1),s.map.prev=t.map);else{let n=Ri;s.syntax&&(n=s.syntax.parse),s.parser&&(n=s.parser),n.parse&&(n=n.parse);try{r=n(t,s)}catch(o){this.processed=!0,this.error=o}r&&!r[Ii]&&vi.rebuild(r)}this.result=new Qt(e,r,s),this.helpers={...rt,postcss:rt,result:this.result},this.plugins=this.processor.plugins.map(n=>typeof n=="object"&&n.prepare?{...n,...n.prepare(this.result)}:n)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let s=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=s.postcssPlugin,e.setMessage()):s.postcssVersion}catch(r){console&&console.error&&console.error(r)}return e}prepareVisitors(){this.listeners={};let e=(t,s,r)=>{this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push([t,r])};for(let t of this.plugins)if(typeof t=="object")for(let s in t){if(!Li[s]&&/^[A-Z]/.test(s))throw new Error(`Unknown event ${s} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!Ni[s])if(typeof t[s]=="object")for(let r in t[s])r==="*"?e(t,s,t[s][r]):e(t,s+"-"+r.toLowerCase(),t[s][r]);else typeof t[s]=="function"&&e(t,s,t[s])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],s=this.runOnRoot(t);if(re(s))try{await s}catch(r){throw this.handleError(r)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[$];){e[$]=!0;let t=[Ht(e)];for(;t.length>0;){let s=this.visitTick(t);if(re(s))try{await s}catch(r){let n=t[t.length-1].node;throw this.handleError(r,n)}}}if(this.listeners.OnceExit)for(let[t,s]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let r=e.nodes.map(n=>s(n,this.helpers));await Promise.all(r)}else await s(e,this.helpers)}catch(r){throw this.handleError(r)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(s=>e.Once(s,this.helpers));return re(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=ki;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let r=new Ai(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(re(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[$];)e[$]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[s,r]of e){this.result.lastPlugin=s;let n;try{n=r(t,this.helpers)}catch(o){throw this.handleError(o,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(re(n))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:s,visitors:r}=t;if(s.type!=="root"&&s.type!=="document"&&!s.parent){e.pop();return}if(r.length>0&&t.visitorIndex<r.length){let[o,l]=r[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===r.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=o;try{return l(s.toProxy(),this.helpers)}catch(a){throw this.handleError(a,s)}}if(t.iterator!==0){let o=t.iterator,l;for(;l=s.nodes[s.indexes[o]];)if(s.indexes[o]+=1,!l[$]){l[$]=!0,e.push(Ht(l));return}t.iterator=0,delete s.indexes[o]}let n=t.events;for(;t.eventIndex<n.length;){let o=n[t.eventIndex];if(t.eventIndex+=1,o===Y){s.nodes&&s.nodes.length&&(s[$]=!0,t.iterator=s.getIterator());return}else if(this.listeners[o]){t.visitors=this.listeners[o];return}}e.pop()}walkSync(e){e[$]=!0;let t=As(e);for(let s of t)if(s===Y)e.nodes&&e.each(r=>{r[$]||this.walkSync(r)});else{let r=this.listeners[s];if(r&&this.visitSync(r,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};G.registerPostcss=i=>{rt=i};var Es=G;G.default=G;Ei.registerLazyResult(G);Ci.registerLazyResult(G);let $i=vs,Di=pt;const Ti=dt;let ji=$e,it=class{constructor(e,t,s){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=s,this._map=void 0;let r,n=ji;this.result=new Ti(this._processor,r,this._opts),this.result.css=t;let o=this;Object.defineProperty(this.result,"root",{get(){return o.root}});let l=new $i(n,r,this._opts,t);if(l.isMap()){let[a,u]=l.generate();a&&(this.result.css=a),u&&(this.result.map=u)}else l.clearAnnotation(),this.result.css=l.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=Di;try{e=t(this._css,this._opts)}catch(s){this.error=s}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var Fi=it;it.default=it;let Bi=ct,Mi=Es,Ui=Fi,zi=ce,ue=class{constructor(e=[]){this.version="8.4.47",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let s of e)if(s.postcss===!0?s=s():s.postcss&&(s=s.postcss),typeof s=="object"&&Array.isArray(s.plugins))t=t.concat(s.plugins);else if(typeof s=="object"&&s.postcssPlugin)t.push(s);else if(typeof s=="function")t.push(s);else if(!(typeof s=="object"&&(s.parse||s.stringify)))throw new Error(s+" is not a PostCSS plugin");return t}process(e,t={}){return!this.plugins.length&&!t.parser&&!t.stringifier&&!t.syntax?new Ui(this,e,t):new Mi(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var _i=ue;ue.default=ue;zi.registerProcessor(ue);Bi.registerProcessor(ue);var Wt={};let ks=ft,Is=Te,Ki=K,Ji=at,Ps=je,Ls=ct,Vi=Wr,Qi=Fe,Hi=Es,Wi=ys,Yi=De,Gi=pt,gt=_i,Xi=dt,Ns=ce,$s=ht,qi=$e,Zi=Cs;function O(...i){return i.length===1&&Array.isArray(i[0])&&(i=i[0]),new gt(i)}O.plugin=function(e,t){let s=!1;function r(...o){console&&console.warn&&!s&&(s=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),Wt.LANG&&Wt.LANG.startsWith("cn")&&console.warn(e+`: 里面 postcss.plugin 被弃用. 迁移指南:
https://www.w3ctech.com/topic/2226`));let l=t(...o);return l.postcssPlugin=e,l.postcssVersion=new gt().version,l}let n;return Object.defineProperty(r,"postcss",{get(){return n||(n=r()),n}}),r.process=function(o,l,a){return O([r(a)]).process(o,l)},r};O.stringify=qi;O.parse=Gi;O.fromJSON=Vi;O.list=Wi;O.comment=i=>new Is(i);O.atRule=i=>new ks(i);O.decl=i=>new Ps(i);O.rule=i=>new $s(i);O.root=i=>new Ns(i);O.document=i=>new Ls(i);O.CssSyntaxError=Ji;O.Declaration=Ps;O.Container=Ki;O.Processor=gt;O.Document=Ls;O.Comment=Is;O.Warning=Zi;O.AtRule=ks;O.Result=Xi;O.Input=Qi;O.Rule=$s;O.Root=Ns;O.Node=Yi;Hi.registerPostcss(O);var en=O;O.default=O;const A=hr(en);A.stringify;A.fromJSON;A.plugin;A.parse;A.list;A.document;A.comment;A.atRule;A.rule;A.decl;A.root;A.CssSyntaxError;A.Declaration;A.Container;A.Processor;A.Document;A.Comment;A.Warning;A.AtRule;A.Result;A.Input;A.Rule;A.Root;A.Node;const T=async(i,e)=>{e&&e.headers&&(e.headers.Authorization?delete e.headers.Authorization:e.headers.authorization&&delete e.headers.authorization);const t=e.body instanceof FormData,s={...e.headers,authorization:`Bearer ${Ms}`,...!t&&{"Content-Type":"application/json",Accept:"application/json"}},r={...e,headers:s};r.body&&typeof r.body!="string"&&!t&&(r.body=JSON.stringify(r.body));let n=0;const o=3;for(;n<o;)try{const l=Math.random().toString(36).substring(7),a=await fetch(i,r);if(a.status===401)throw await a.json();if(!a.ok){const h=await a.json();if(console.log(JSON.stringify({type:"Response Error",error:h},null,2)),n++,n===o)throw h;continue}const f=await a.clone().json();return a}catch(l){if(l.status===401||(n++,n===o))throw l}},Yt={[J+"/api/config"]:{reactFunc:async i=>({ok:!0,status:200,statusText:"OK",json:async()=>({status:!0,name:"Open WebUI",version:"0.5.10",default_locale:"",oauth:{providers:{}},features:{auth:!0,auth_trusted_header:!1,enable_ldap:!1,enable_api_key:!0,enable_signup:!1,enable_login_form:!0,enable_websocket:!0,enable_channels:!1,enable_web_search:!1,enable_google_drive_integration:!1,enable_image_generation:!1,enable_community_sharing:!0,enable_message_rating:!0,enable_admin_export:!0,enable_admin_chat_access:!0},default_models:null,default_prompt_suggestions:[{title:["Help me study","vocabulary for a college entrance exam"],content:"Help me study vocabulary: write a sentence for me to fill in the blank, and I'll try to pick the correct option."},{title:["Give me ideas","for what to do with my kids' art"],content:"What are 5 creative things I could do with my kids' art? I don't want to throw them away, but it's also so much clutter."},{title:["Tell me a fun fact","about the Roman Empire"],content:"Tell me a random fun fact about the Roman Empire"},{title:["Show me a code snippet","of a website's sticky header"],content:"Show me a code snippet of a website's sticky header in CSS and JavaScript."},{title:["Explain options trading","if I'm familiar with buying and selling stocks"],content:"Explain options trading in simple terms if I'm familiar with buying and selling stocks."},{title:["Overcome procrastination","give me tips"],content:"Could you start by asking me about instances when I procrastinate the most and then give me some suggestions to overcome it?"},{title:["Grammar check","rewrite it for better readability "],content:'Check the following sentence for grammar and clarity: "[sentence]". Rewrite it for better readability while maintaining its original meaning.'}],audio:{tts:{engine:"",voice:"alloy",split_on:"punctuation"},stt:{engine:""}},file:{max_size:null,max_count:null},permissions:{workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{controls:!0,file_upload:!0,delete:!0,edit:!0,temporary:!0},features:{web_search:!0,image_generation:!0,code_interpreter:!0}},google_drive:{client_id:"",api_key:""}})})},[E+"/auths/signin"]:{reactFunc:async i=>{const{body:e}=i,{email:t,password:s}=JSON.parse(e);if(t==="shenkang"&&s==="sk-32aA")return{ok:!0,status:200,statusText:"OK",json:async()=>({id:"45542fe7-13bf-4c33-b37a-3b53d40cc468",email:"sandyway@hotmail.com",name:"Wei",role:"admin",profile_image_url:"data:image/png;base64,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",token:js,token_type:"Bearer",expires_at:null,permissions:{workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{controls:!0,file_upload:!0,delete:!0,edit:!0,temporary:!0},features:{web_search:!0,image_generation:!0,code_interpreter:!0}}})};throw{detail:"用户名或密码错误"}}},[E+"/chats/?page=1"]:{reactFunc:async i=>{const s=(await(await T(`${D}/cortex/active-bot/${bt}/convo?page=1&size=999`,i)).json()).body.data.map(r=>({id:r._id,title:r.name,updated_at:new Date(r.modifiedAt).getTime()/1e3,created_at:new Date(r.createdAt).getTime()/1e3}));return{ok:!0,status:200,statusText:"OK",json:async()=>s}}},[E+"/chats/?page=2"]:{reactFunc:async i=>({ok:!0,status:200,statusText:"OK",json:async()=>[]})},[E+"/auths/"]:{reactFunc:async i=>({ok:!0,status:200,statusText:"OK",json:async()=>({id:"5464b58a-06f7-4ddb-8115-7b8f983aeeb6",email:"sandyway@hotmail.com",name:"Wei",role:"admin",profile_image_url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAB5NJREFUeF7tm2lsVFUUx//vzUxn1UAB2UFQKiogggIGQVlEi1AWo7WCCCTGGBeikUSjibuJJhIJJnxQWWoLishaBKFqBBdEltqi7EpBq7WACH2zL+YOmXlzX9/U1+gw58O53zrv3HvP/f/mnHvveVPl/LuFCXAjo4DCQMiwSDrCQGjxYCDEeDAQBkJNAWL+8B7CQIgpQMwdjhAGQkwBYu5whDAQYgoQc4cjhIEQU4CYOxwhDISYAsTc4QhhIMQUIOYORwgDIaYAMXc4QhgIMQWIucMRwkCIKUDMHY4QBkJMAWLucIQwEGIKEHOHI4SBEFOAmDscIQyEmALE3OEIYSC6AoqrA9R2/SVJ4qdrkIholmRSPF2hXtpX7n/2IBLB09b6m81/pg6J8DlL/XNhlNcIcY5aBEfRfdK6wntfR3jfG5bW6imphtrpesk2Wr8JwepZlvq7blkM+5X3yPPXLkT4+5cs9c+FUV6B2HtPhGv8+9K6Yo27EKgqtrRW35zfAbVAsk2EzkCr6Gepv+eevVAv6S3Z+tePQ/xUjaX+uTDKKxAoNvjmNop/5EqvLRFphlYui2S2cNtlN8I9eYupJlplkaW05ZvbBCiqPkY8jOalXXOhs+Ux8wsEgKd0H1RfL8lhreIKJEJnW12Ec9RCOIpmmtqIlBOuXdhqf1unIXCXbDPsX3Xwr7vVsni5MMw7EDNhQ189gcih8lbX6723Foq3u6lNvGkf/BvGtw502ItwDHxU3j9q3kR4z2u50NnymHkHYutyE9x3Vskb84ktCG6bkX0RNid8s3+TUp38Vf/31OOZ+gXUDoPk/WPVEMTP11sWLxeGeQciFuWb0wiodn0fCfwJbcXVWdcrUpWIrHSLhQDVIe0HgY13IPbn91nH8D3wK2B363NG/dCW98yFxm0akwQQz13fQm1XlOF4As1LOgOJmOli3MXrYOs2SufR+B0UZ3tpjMjhSoR2PG7aX9xfvGX7pWexxp0IVN3ZJvFyYUwCiHP4K3AMeFhaX2DrvYidlDfdlIF31gkoDm/aPrTzGSieLigYNE//xmu/QftATkmph46Bj8A5TL5rhL57DpH9i3OhcZvGJAFELbwWnmnbJccjhysQ2qELnHqoXtoHnrt3S7Za+eVQXIUQ9wq9JdC8rDsg0pmhuYvXwtZttDxGRT+IO0y+GwkgQgTf7AbA5kzrEf/7GPyrh7XQp2DYCygY+JgeCRn7jXdWPRSHT4+cHfMgwBqbd+YRKM5CfYzQX9Aqrsw3i+T8ZIB4pnwOteN1uijxCJqXdmkhkueunVDb6Tfx6NFVCH55Id25i9fA1u2WdJ9Yww4ENk+Vx0ie0Bqkz2K/ViPwaSkDyVSg4Pr5KBjytCSKf83NiP91QP9MUS+cyDJu14FNJYj98XXSxtGvDM7Rb+vf/IgGrVy+dNr7ToNrzLvSPMHtjyB65AMGkqmA4usBb+kPkihhw0XN3usOuG6rzB5FJvcT/0c3IH7ul3Qf15h3YO87PWOe7HtNPgiRSVli8cbTU6xpDwIbJuhijlsG++WT03/HT9fCv26MpJu3tAaKT79PhOsWIbzrhbSN8XnC3wht5TX50N50TlJA3BM3wNZ1ZNaU451xGOIdSqqF97yKcM0CaWHOkQvg6P+ADu3sEfg/HpH+21hQjP68BsEvHmQgZgo4rn0IzhFyLSlVuRUgBJDMpq3oj0SgSfpM7TgYnimf6Z8l4mheKi6Zcdg6D4d70ify/rG1DNGTWxmImQKKsx28M49Jj0LfzEfkwJLkUVcceVMt0cpR1XiEFnWx6IktSdgCuj6IDosKEVIpK7mPzDyaLIOkWupIKkrlomSeatH6zQhWm5ff3SVbYes0VLc9vhHBz2YnL5/iEppqYrMXmz6lRg6Ia8JK2HvqG7lISSI1Gd8OBqvvR7ReTj8pYY2lEfGOXaQ+Y+REDi5F6OunKPGgczFMqSLecYt33Rl5BYGqSXBP2mQ51ZilPv/6sRCXz8wmTnDiJEepkYsQUT4xvuuIn9kPtXCAnmr+Pgr/6uGt6ui97xAUd0e9j2EMZKkE5BsOPSBiHyn7CYqnc1ZtjHcLM0PX2Pdg72Mom2QYxs/8CP9aucCYbxhifpJAWt6mZan8q4Yifv54q/rZeoyD+/ZV2aH+8BbCu1+mwEDygSSQFiWSzB3FpD6VTVXjm8hMO2NJhQoZkkBE8dBYREwJFmv4EoHNmbWo7FJ6pn8Ftb3Jq+BoAM3Le1BhQD9ChIdmP2ITn4e2P4rIkZWWxCwY+iwKBj/ZwrYtP8azNNH/aEQzQgAYa1IX1ty2yqxZBTkJddfziNTpZfr/Uc//PBRZIGZ1p0TzSWgfDm7Too1vEUVnrfIqJIKn2jTOxTImC+RiCUBtHgZCjAgDYSDEFCDmDkcIAyGmADF3OEIYCDEFiLnDEcJAiClAzB2OEAZCTAFi7nCEMBBiChBzhyOEgRBTgJg7HCEMhJgCxNzhCGEgxBQg5g5HCAMhpgAxdzhCGAgxBYi5wxHCQIgpQMwdjhAGQkwBYu5whDAQYgoQc4cjhIEQU4CYOxwhDISYAsTc4QhhIMQUIOYORwgxIP8AxfE+EpRvNg0AAAAASUVORK5CYII=",token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjU0NjRiNThhLTA2ZjctNGRkYi04MTE1LTdiOGY5ODNhZWViNiJ9.HazR59EprbDWCjrh_pr_vWn2p5KXve9zEycHINwohO0",token_type:"Bearer",expires_at:null,permissions:{workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{controls:!0,file_upload:!0,delete:!0,edit:!0,temporary:!0},features:{web_search:!0,image_generation:!0,code_interpreter:!0}}})})},[E+"/users/user/settings"]:{reactFunc:async i=>({ok:!0,status:200,statusText:"OK",json:async()=>({ui:{version:"0.5.10",notifications:{webhook_url:""},models:[_]}})})},[J+"/api/models"]:{reactFunc:async i=>({ok:!0,status:200,statusText:"OK",json:async()=>({data:[{id:Fs,name:_,object:"model",created:1739959474,owned_by:"ollama",ollama:{name:_,model:_,modified_at:"2025-01-29T16:08:18.738208076+08:00",size:4683075271,digest:"0a8c266910232fd3291e71e5ba1e058cc5af9d411192cf88b6d30e92b6e73163",details:{parent_model:"",format:"gguf",family:"qwen2",families:["qwen2"],parameter_size:"7.6B",quantization_level:"Q4_K_M"},urls:[0]},actions:[]}]})})},[E+"/configs/banners"]:{reactFunc:async i=>({ok:!0,status:200,statusText:"OK",json:async()=>[]})},[E+"/tools/"]:{reactFunc:async i=>({ok:!0,status:200,statusText:"OK",json:async()=>[]})},[J+"/api/version/updates"]:{reactFunc:async i=>({ok:!0,status:200,statusText:"OK",json:async()=>({current:"0.5.10",latest:"0.5.10"})})},[E+"/channels/"]:{reactFunc:async i=>({ok:!0,status:200,statusText:"OK",json:async()=>[]})},[J+"/ollama/api/version"]:{reactFunc:async i=>({ok:!0,status:200,statusText:"OK",json:async()=>({data:{version:"0.5.11"}})})},[E+"/chats/all/tags"]:{reactFunc:async i=>({ok:!0,status:200,statusText:"OK",json:async()=>[{id:"general",name:"General",user_id:"5464b58a-06f7-4ddb-8115-7b8f983aeeb6",meta:null}]})},[J+"/api/changelog"]:{reactFunc:async i=>({ok:!0,status:200,statusText:"OK",json:async()=>({data:{"0.5.10":{date:"2025-02-05",fixed:[]}}})})},[E+"/folders/"]:{reactFunc:async i=>({ok:!0,status:200,statusText:"OK",json:async()=>[]})},[E+"/chats/pinned"]:{reactFunc:async i=>({ok:!0,status:200,statusText:"OK",json:async()=>[]})},[J+"/api/chat/completions"]:{reactFunc:async i=>{const e=JSON.parse(i.body),t=e.messages,s=t[t.length-1].content,r=e.chat_id,n={content:s,actionType:"direct-agent",messageType:"user-question",sessionId:wt,convoId:r,agentTaskId:H(Bs)};i.body=n;const a={status:!0,task_id:(await(await T(`${D}/cortex/completions/user-input`,i)).json()).body.gid};return{ok:!0,status:200,statusText:"OK",json:async()=>a}}},[E+"/tasks/auto/completions"]:{reactFunc:async i=>({ok:!0,status:200,statusText:"OK",json:async()=>({id:"deepseek-r1:latest-40da1235-fb9b-413c-baaa-d5c70bb1c539",created:1740561075,model:"deepseek-r1:latest",choices:[{index:0,logprobs:null,finish_reason:"stop",message:{content:"",role:"assistant"}}],object:"chat.completion",usage:{"response_token/s":29.76,"prompt_token/s":234.31,total_duration:13095257292,load_duration:30106583,prompt_eval_count:336,prompt_eval_duration:1434e6,eval_count:346,eval_duration:11628e6,approximate_total:"0h0m13s"}})})},[E+"/audio/transcriptions"]:{reactFunc:async i=>{const s={text:(await(await T(`${D}/sp2text/generate`,i)).json()).body.text,filename:"c2cd1dee-67d9-4563-a775-fb89990009b6.ogg"};return{ok:!0,status:200,statusText:"OK",json:async()=>s}}},[E+"/chats/new"]:{reactFunc:async i=>{const e=JSON.parse(i.body),t=new Date().toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/\//g,"-"),s={...e,convoName:`会议${t}`,defaultLanguage:"Chinese"};i.body=s;const l={id:(await(await T(`${D}/cortex/active-bot/${bt}/convo`,i)).json()).body.dataRoomId};return{ok:!0,status:200,statusText:"OK",json:async()=>l}}},[`${E}/files/`]:{reactFunc:async i=>{const e=new FormData;e.append("session_id",wt),e.append("attachment",i.body.get("file")),i.body=e;const t=H(nt),r=await(await T(`${D}/cortex/conversation/${t}/attachment`,i)).json();return{ok:!0,status:200,statusText:"OK",json:async()=>r.body}}}};function tn(i){const e=[...i].sort((r,n)=>new Date(r.createdAt).getTime()-new Date(n.createdAt).getTime()),t=[];let s=null;return e.forEach(r=>{const n=Math.floor(new Date(r.createdAt).getTime()/1e3),o=r.model??"",l={id:r._id,parentId:s,childrenIds:[],role:r.role,content:r.content,timestamp:n,models:[o],model:o,modelName:o,modelIdx:0};if(s){const a=t.find(u=>u.id===s);a&&a.childrenIds.push(r._id)}t.push(l),s=r._id}),{messages:t}}function sn(i){return i.messages.reduce((e,t)=>(e[t.id]=t,e),{})}const rn=[{method:"POST",pattern:/\/api\/v1\/chats\/([a-f0-9-]{24,})(?!\/)/,reactFunc:async(i,e)=>{const t=i[1],s=JSON.parse(e.body).chat.title,r={method:"PATCH",body:{name:s}},n=`${D}/cortex/conversation/${t}`;return await(await T(n,r)).json(),{ok:!0,status:200,statusText:"OK",json:async()=>({id:"3b4e3409-5f3b-4f67-9416-20d5834ef6f3",user_id:"5464b58a-06f7-4ddb-8115-7b8f983aeeb6",title:s,chat:{id:"acdd0dc4-ad9c-484f-b7c2-20769ee309b2",title:s,models:[_],params:{},history:{messages:{"d47529ec-72f2-4789-b62f-51f09480b40c":{id:"d47529ec-72f2-4789-b62f-51f09480b40c",parentId:null,childrenIds:[],role:"user",content:"hihihi2",timestamp:1740814828,models:[_]}},currentId:"d47529ec-72f2-4789-b62f-51f09480b40c"},messages:[{id:"d47529ec-72f2-4789-b62f-51f09480b40c",parentId:null,childrenIds:[],role:"user",content:"hihihi2",timestamp:1740814828,models:[_]}],tags:[],timestamp:1740814828152},updated_at:1741175809,created_at:1740814828,share_id:null,archived:!1,pinned:!1,meta:{},folder_id:null})}}},{method:"GET",pattern:/\/api\/v1\/chats\/([a-f0-9-]{24,})(?!\/)/,reactFunc:async(i,e)=>{const t=i[1],s={method:"POST",body:{convoId:t,keyword:"",page:"1",size:"999"},redirect:"follow"},r=`${D}/cortex/message/list`,o=await(await T(r,s)).json();return{ok:!0,status:200,statusText:"OK",json:async()=>{const l=o.body.data,a=l.length>0?l[l.length-1]:null,u=l.length>0?l[0]:null,f=tn(l),h=sn(f);return{id:t,user_id:a==null?void 0:a.userId,title:a==null?void 0:a.content,chat:{id:"",title:a==null?void 0:a.content,models:[u==null?void 0:u.model],params:{},history:{messages:h,currentId:u==null?void 0:u._id},messages:f,tags:[],timestamp:new Date(a.createdAt).getTime(),files:[]},updated_at:new Date(u.modifiedAt).getTime()/1e3,created_at:new Date(a.createdAt).getTime()/1e3,share_id:null,archived:!1,pinned:!1,meta:{tags:["general"]},folder_id:null}}}}},{method:"DELETE",pattern:/\/api\/v1\/chats\/([a-f0-9-]{24,})(?!\/)/,reactFunc:async(i,e)=>{const t=i[1],s={method:"DELETE"},r=`${D}/cortex/conversation/${t}`;return await(await T(r,s)).json(),{ok:!0,status:200,statusText:"OK",json:async()=>({})}}},{pattern:/\/api\/v1\/chats\/([a-f0-9-]{24,})\/tags/,reactFunc:async(i,e)=>({ok:!0,status:200,statusText:"OK",json:async()=>[{id:"general",name:"General",user_id:"5464b58a-06f7-4ddb-8115-7b8f983aeeb6",meta:null}]})}],In=async(i,e={})=>{if(Yt[i])return await Yt[i].reactFunc(e);const t=rn.find(u=>u.pattern.test(i)&&u.method!==null&&u.method===e.method);if(t){const u=i.match(t.pattern);if(u)return t.reactFunc(u,e)}const s=i,r={...e.headers},n={...e,headers:r};if(n.body){const u=JSON.parse(n.body);u&&(u.model="deepseek-r1:latest",n.body=JSON.stringify(u))}console.log(JSON.stringify({type:"Request=====================================",url:s,options:n},null,2));const o=await fetch(s,n);if(!o.ok){const u=await o.json();throw console.log(JSON.stringify({type:"Response Error",error:u},null,2)),u}const a=await o.clone().json();return console.log(JSON.stringify({type:"Response----------------------------------",response:a},null,2)),o},Pn=async()=>{try{const i=H(nt);if(!i||i==="")return[];const e={method:"GET",redirect:"follow"};return(await(await T(`${D}/cortex/conversation/${i}/attachment`,e)).json()).body}catch(i){throw console.error("Failed to get conversation attachments:",i),i}},Ln=async i=>{try{const e=H(nt);if(!e||e==="")return;const t={method:"DELETE",redirect:"follow"},s=await T(`${D}/cortex/conversation/${e}/attachment/${i}`,t);return}catch(e){throw console.error("Failed to delete conversation attachment:",e),e}};export{In as a,un as b,hn as c,N as d,Ln as e,Pn as f,hr as g,k as i,L as r,fn as t,cn as u};
